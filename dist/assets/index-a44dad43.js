import{a as _,r as i,aO as b,j as u,b as a,T as d,E as h,o as p,L as P,F as y,P as g,p as M,A as f,u as m,y as x,aN as S,i as A,h as E,b1 as T}from"./index-ffb5f151.js";import{W as L}from"./WhiteContainerSuggestLogin-8b80a525.js";const N=s=>{const n=_(),{search:r}=n,e=i.useCallback(()=>{const l=b.parse(r.slice(1)),o=Number(l.page);return Number.isNaN(o)||o<1||o>s?1:o},[r,s]),[t,c]=i.useState(e());return i.useEffect(()=>{c(e())},[r,s]),t},j=({roomId:s,ongoing:n=[],done:r=[],donePageInfo:e})=>u(f,{type:"center",children:[a(d,{icon:"current",isHeader:!0,children:"참여 중인 방"}),n.length===0?a(h,{type:"mobile",children:"참여 중인 방이 없습니다"}):n.map(t=>a(P,{to:`/myroom/${t._id}`,style:{textDecoration:"none"},children:a(p,{data:t,selected:s===t._id,theme:"white",marginBottom:"15px"})},t._id)),a(d,{icon:"past",isHeader:!0,children:"과거 참여 방"}),r.length===0?a(h,{type:"mobile",children:"과거 참여했던 방이 없습니다"}):u(y,{children:[r.slice(g*(e.currentPage-1),g*e.currentPage).map(t=>a(P,{to:`/myroom/${t._id}`,style:{textDecoration:"none"},children:a(p,{data:t,selected:s===t._id,theme:"white",marginTop:"15px"})},t._id)),a(M,{totalPages:e.totalPages,currentPage:e.currentPage,isMobile:!0})]})]}),H=5,I=()=>{var o;const s=m(),{roomId:n}=x(),r=S(),e=A("myRooms"),t=Math.ceil((((o=e==null?void 0:e.done)==null?void 0:o.length)??0)/g),c=N(t),l=E();return i.useEffect(()=>{r==="fold"&&n&&s.replace(`/chatting/${n}`)},[r,n]),l?r==="fold"?a(j,{roomId:n,ongoing:e==null?void 0:e.ongoing,done:e==null?void 0:e.done,donePageInfo:{totalPages:t,currentPage:c}}):a(T,{roomId:n,ongoing:e==null?void 0:e.ongoing,done:e==null?void 0:e.done,donePageInfo:{totalPages:t,currentPage:c}}):u(f,{type:"center",children:[a(d,{icon:"myroom",isHeader:!0,children:"내 방 보기"}),a(L,{})]})},C=Object.freeze(Object.defineProperty({__proto__:null,MAX_PARTICIPATION:H,default:I},Symbol.toStringTag,{value:"Module"}));export{H as M,C as i,N as u};
